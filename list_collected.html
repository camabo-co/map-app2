<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>å–å¾—æ¸ˆã¿ä¸€è¦§ï¼ˆãƒ¬ãƒ™ãƒ«åˆ¥ï¼‰</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    .level-title { font-weight: bold; margin-top: 10px; color: #333; }
    .coords { margin-left: 1em; }
  </style>
</head>
<body>
  <h2>ğŸ“˜ å–å¾—æ¸ˆã¿ä¸€è¦§ï¼ˆãƒ¬ãƒ™ãƒ«åˆ¥ï¼‰</h2>
  <div id="collectedList"></div>

  <script>
    const API_URL = "https://script.google.com/macros/s/AKfycbz26HOI5KLWWUOi9e99ijj1TRbqaEsfPaBHYdVpjGaevtbNUtIfLcip0RKsiLRl0Lg/exec";

    fetch(API_URL)
      .then(res => res.json())
      .then(data => {
        const collectedOnly = data.filter(d => d["å–å¾—çŠ¶æ³"] === "å–å¾—æ¸ˆã¿");
        const grouped = {};

        collectedOnly.forEach(d => {
          const level = d["ãƒ¬ãƒ™ãƒ«"];
          if (!grouped[level]) grouped[level] = [];
          grouped[level].push(d);
        });

        const container = document.getElementById("collectedList");
        Object.keys(grouped).sort().forEach(level => {
          const title = document.createElement("div");
          title.className = "level-title";
          title.innerHTML = `ğŸ”¶ Lv.${level}`;
          container.appendChild(title);

          grouped[level].forEach(item => {
            const line = document.createElement("div");
            line.className = "coords";
            line.textContent = `${item["ã‚µãƒ¼ãƒãƒ¼å"]} / X:${item.X}, Y:${item.Y}`;
            container.appendChild(line);
          });
        });
      });
  </script>
</body>
</html>
